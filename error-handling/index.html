
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://netflix.github.io/dgs/error-handling/">
      
      
        <link rel="prev" href="../data-loaders/">
      
      
        <link rel="next" href="../federation/">
      
      
        
      
      
      <link rel="icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Error Handling - DGS Framework</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/dgs_theme.css?v=3.0.13">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#handling-exceptions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Mitigate bug: https://github.com/mkdocs/mkdocs/issues/2191 -->



<div class="sash" data-no-interact></div>

<!-- Application header -->
<header class="md-header dgs-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid dgs-header-nav" aria-label="header.title">

    <!-- Link to home -->
    <a
      href="https://netflix.github.io/dgs/"
      title="DGS Framework"
      class="md-header-nav__button dgs-header-nav__button md-logo dgs-logo"
      aria-label="DGS Framework"
    >
      
  <img src="../images/logo--blue.svg" alt="logo">

    </a>

    <!-- Header title -->
    <div class="md-header-nav__title dgs-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis sr-only">
          <span class="md-header-nav__topic md-ellipsis">
            DGS Framework
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Error Handling
            
          </span>
        </div>
      
    </div>

    <!-- Repository containing source -->
    
      <div class="md-header-nav__source dgs-header-nav__source">
        <a href="https://github.com/netflix/dgs-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 0c4.42 0 8 3.58 8 8a8.01 8.01 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    

     <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="default"
            data-md-color-primary="blue"
            data-md-color-accent="light-green"
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          <label
            class="md-header__button md-icon"
            title="Switch to dark mode"
            for="__palette_2"
            hidden
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
          </label>
        
          
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="slate"
            data-md-color-primary="blue"
            data-md-color-accent="light-green"
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          <label
            class="md-header__button md-icon"
            title="Switch to light mode"
            for="__palette_1"
            hidden
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
          </label>
        
      </form>
    

    <!-- Button to open drawer -->
    <label class="md-header-nav__button md-icon dgs-header-nav__button" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Button to open search dialogue -->
    <label class="md-header-nav__button md-icon dgs-header-nav__button" for="__search">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>

    <!-- Search interface -->
    <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Search interface -->
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input
        type="text"
        class="md-search__input"
        name="query"
        aria-label="Search"
        placeholder="Search"
        autocapitalize="off"
        autocorrect="off"
        autocomplete="off"
        spellcheck="false"
        data-md-component="search-query"
        data-md-state="active"
        required
      />
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <button
        type="reset"
        class="md-search__icon md-icon"
        aria-label="Clear"
        data-md-component="search-reset"
        tabindex="-1"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>

  <div class="post-search-decoration" data-no-interact></div>
</div>

  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DGS Framework" class="md-nav__button md-logo" aria-label="DGS Framework" data-md-component="logo">
      
  <img src="../images/logo--blue.svg" alt="logo">

    </a>
    DGS Framework
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/netflix/dgs-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 0c4.42 0 8 3.58 8 8a8.01 8.01 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../spring-graphql-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spring GraphQL Integration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../announcements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    New and Noteworthy
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../datafetching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data fetching
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../query-execution-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mutations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mutations
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../generating-code-from-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Generation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-loaders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Loaders (N+1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Error Handling
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mapping-custom-exceptions-with-controlleradvice" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mapping custom exceptions with @ControllerAdvice
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mapping-custom-exceptions-by-implementing-datafetcherexceptionhandler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mapping custom exceptions by implementing DataFetcherExceptionHandler
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../federation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Federation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../videos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Videos
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/platform-bom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using the Platform BOM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/context-passing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nested data fetchers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/virtual-threads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using Virtual Threads
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/schema-reloading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hot reloading schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/java-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Java GraphQL Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/kotlin-codegen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kotlin CodeGen (Experimental)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/file-uploads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    File Uploads
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/subscriptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Subscriptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/type-resolvers-for-abstract-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interfaces and Unions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/instrumentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Instrumentation (Tracing, Metrics)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/intercepting-http-request-response/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Intercepting Http request and Response for MVC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/graphqlcontext-leveraging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GraphQLContext
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/custom-datafetcher-context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Fetching Context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/federated-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Federated Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/dynamic-schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/relay-pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Relay Pagination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/operation-caching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operation Caching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scalars/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adding Custom Scalars
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/custom-directives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adding Custom Directives
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/custom-object-mapper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Object Mapper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mapping-custom-exceptions-with-controlleradvice" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mapping custom exceptions with @ControllerAdvice
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mapping-custom-exceptions-by-implementing-datafetcherexceptionhandler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mapping custom exceptions by implementing DataFetcherExceptionHandler
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<p>It is common in GraphQL to support error reporting by adding an <code>errors</code> block to a response.
Responses can contain both data and errors, for example when some fields where resolved successfully, but other fields had errors.
A field with an error is set to null, and an error is added to the <code>errors</code> block.</p>
<p>The DGS framework has an exception handler out-of-the-box that works according to the specification described in the <code>Error Specification</code> section on this page.
This exception handler handles exceptions from data fetchers.
Any <code>RuntimeException</code> is translated to a <code>GraphQLError</code> of type <code>INTERNAL</code>.
For some specific exception types, a more specific GraphQL error type is used.</p>
<table>
<thead>
<tr>
<th><strong>Exception type</strong></th>
<th><strong>GraphQL error type</strong></th>
<th><strong>description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AccessDeniedException</code></td>
<td><code>PERMISSION_DENIED</code></td>
<td>When a <code>@Secured</code> check fails</td>
</tr>
<tr>
<td><code>DgsEntityNotFoundException</code></td>
<td><code>NOT_FOUND</code></td>
<td>Thrown by the developer when a requested entity (e.g. based on query parameters) isn't found</td>
</tr>
</tbody>
</table>
<h1 id="handling-exceptions">Handling exceptions<a class="headerlink" href="#handling-exceptions" title="Permanent link">&para;</a></h1>
<p>It can be useful to map application specific exceptions to meaningful exceptions back to the client.
The framework provides two different mechanisms to achieve this.</p>
<h2 id="mapping-custom-exceptions-with-controlleradvice">Mapping custom exceptions with @ControllerAdvice<a class="headerlink" href="#mapping-custom-exceptions-with-controlleradvice" title="Permanent link">&para;</a></h2>
<p>The easiest way to manually map exceptions is to use <code>@ControllerAdvice</code> from Spring for GraphQL.
Annotate a class with <code>@ControllerAdvice</code>, and add a method annotated with <code>@GraphQlExceptionHandler</code> for each type of exception you want to handle.
The method must take an argument of the type of exception it should handle, and must return <code>GraphQLError</code>.
If no matching method is found, the framework falls back to the built-in error handling from the framework.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nd">@ControllerAdvice</span>
<span class="linenos" data-linenos="2 "></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ControllerExceptionHandler</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span><span class="nd">@GraphQlExceptionHandler</span>
<span class="linenos" data-linenos="4 "></span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">GraphQLError</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">IllegalArgumentException</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="5 "></span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">GraphQLError</span><span class="p">.</span><span class="na">newError</span><span class="p">().</span><span class="na">errorType</span><span class="p">(</span><span class="n">ErrorType</span><span class="p">.</span><span class="na">BAD_REQUEST</span><span class="p">).</span><span class="na">message</span><span class="p">(</span><span class="s">&quot;Handled an IllegalArgumentException!&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
<span class="linenos" data-linenos="6 "></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="mapping-custom-exceptions-by-implementing-datafetcherexceptionhandler">Mapping custom exceptions by implementing DataFetcherExceptionHandler<a class="headerlink" href="#mapping-custom-exceptions-by-implementing-datafetcherexceptionhandler" title="Permanent link">&para;</a></h2>
<p>You can also register a component of type <code>DataFetcherExceptionHandler</code>, which is an interface from graphql-java.
Make sure to delegate to the <code>DefaultDataFetcherExceptionHandler</code> class, this is the default exception handler of the framework.
If you don't delegate to this class, you lose the framework's built-in exception handler.</p>
<p>The following is an example of a custom exception handler implementation.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="nd">@Component</span>
<span class="linenos" data-linenos=" 2 "></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyExceptionHandler</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DataFetcherExceptionHandler</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="w">   </span><span class="nd">@Override</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">DataFetcherExceptionHandlerResult</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">handleException</span><span class="p">(</span><span class="n">DataFetcherExceptionHandlerParameters</span><span class="w"> </span><span class="n">handlerParameters</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">handlerParameters</span><span class="p">.</span><span class="na">getException</span><span class="p">()</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">         </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">debugInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">         </span><span class="n">debugInfo</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;somefield&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;somevalue&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="w">         </span><span class="n">GraphQLError</span><span class="w"> </span><span class="n">graphqlError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TypedGraphQLError</span><span class="p">.</span><span class="na">newInternalErrorBuilder</span><span class="p">()</span>
<span class="linenos" data-linenos="11 "></span><span class="w">                 </span><span class="p">.</span><span class="na">message</span><span class="p">(</span><span class="s">&quot;This custom thing went wrong!&quot;</span><span class="p">)</span>
<span class="linenos" data-linenos="12 "></span><span class="w">                 </span><span class="p">.</span><span class="na">debugInfo</span><span class="p">(</span><span class="n">debugInfo</span><span class="p">)</span>
<span class="linenos" data-linenos="13 "></span><span class="w">                 </span><span class="p">.</span><span class="na">path</span><span class="p">(</span><span class="n">handlerParameters</span><span class="p">.</span><span class="na">getPath</span><span class="p">()).</span><span class="na">build</span><span class="p">();</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span><span class="w">         </span><span class="n">DataFetcherExceptionHandlerResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataFetcherExceptionHandlerResult</span><span class="p">.</span><span class="na">newResult</span><span class="p">()</span>
<span class="linenos" data-linenos="16 "></span><span class="w">                 </span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="n">graphqlError</span><span class="p">)</span>
<span class="linenos" data-linenos="17 "></span><span class="w">                 </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="linenos" data-linenos="18 "></span>
<span class="linenos" data-linenos="19 "></span><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="p">.</span><span class="na">completedFuture</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="linenos" data-linenos="20 "></span><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="21 "></span><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultDataFetcherExceptionHandler</span><span class="p">().</span><span class="na">handleException</span><span class="p">(</span><span class="n">handlerParameters</span><span class="p">);</span>
<span class="linenos" data-linenos="22 "></span><span class="w">      </span><span class="p">}</span>
<span class="linenos" data-linenos="23 "></span><span class="w">   </span><span class="p">}</span>
<span class="linenos" data-linenos="24 "></span><span class="p">}</span>
</code></pre></div>
<p>The following data fetcher throws <code>MyException</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nd">@DgsComponent</span>
<span class="linenos" data-linenos="2 "></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HelloDataFetcher</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span><span class="nd">@DgsData</span><span class="p">(</span><span class="n">parentType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Query&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">)</span>
<span class="linenos" data-linenos="4 "></span><span class="w">    </span><span class="nd">@DgsEnableDataFetcherInstrumentation</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<span class="linenos" data-linenos="5 "></span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">hello</span><span class="p">(</span><span class="n">DataFetchingEnvironment</span><span class="w"> </span><span class="n">dfe</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="6 "></span>
<span class="linenos" data-linenos="7 "></span><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyException</span><span class="p">();</span>
<span class="linenos" data-linenos="8 "></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div>
<p>Querying the <code>hello</code> field results in the following response.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="p">{</span>
<span class="linenos" data-linenos=" 2 "></span><span class="w">  </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">    </span><span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span><span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This custom thing went wrong!&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">      </span><span class="nt">&quot;locations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">      </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">        </span><span class="s2">&quot;hello&quot;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">      </span><span class="p">],</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">      </span><span class="nt">&quot;extensions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="10 "></span><span class="w">        </span><span class="nt">&quot;errorType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;INTERNAL&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos="11 "></span><span class="w">        </span><span class="nt">&quot;debugInfo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="12 "></span><span class="w">          </span><span class="nt">&quot;somefield&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;somevalue&quot;</span>
<span class="linenos" data-linenos="13 "></span><span class="w">        </span><span class="p">}</span>
<span class="linenos" data-linenos="14 "></span><span class="w">      </span><span class="p">}</span>
<span class="linenos" data-linenos="15 "></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-linenos="16 "></span><span class="w">  </span><span class="p">],</span>
<span class="linenos" data-linenos="17 "></span><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="18 "></span><span class="w">    </span><span class="nt">&quot;hello&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="linenos" data-linenos="19 "></span><span class="w">  </span><span class="p">}</span>
<span class="linenos" data-linenos="20 "></span><span class="p">}</span>
</code></pre></div>
<h1 id="error-specification">Error specification<a class="headerlink" href="#error-specification" title="Permanent link">&para;</a></h1>
<p>There are two families of errors we typically encounter for GraphQL:</p>
<ol>
<li><strong>Comprehensive Errors.</strong>
   These are unexpected errors and do not represent a condition that the end user can be expected to fix.
   Errors of this sort are generally applicable to many types and fields.
   Such errors appear in the <code>errors</code> array in the GraphQL response.</li>
<li><strong>Errors as Data.</strong>
   These are errors that are informative to the end user (for example: “this title is not available in your country” or “your account has been suspended”).
   Errors of this sort are typically specific to a particular use case and apply only to certain fields or to a certain subset of fields.
   These errors are part of the GraphQL schema.</li>
</ol>
<h2 id="the-graphqlerror-interface">The GraphQLError Interface<a class="headerlink" href="#the-graphqlerror-interface" title="Permanent link">&para;</a></h2>
<p>The GraphQL specification provides minimal guidance on the structure of an error.
The only required field is a <code>message</code> String, which has no defined format.
In Studio Edge we would like to have a stronger, more expressive contract.
Here is the definition we are using:</p>
<table>
<thead>
<tr>
<th><strong>field</strong></th>
<th><strong>type</strong></th>
<th><strong>description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>message</code> (non-nullable)</td>
<td><code>String!</code></td>
<td>a string description of the error intended for the developer as a guide to understand and correct the error</td>
</tr>
<tr>
<td><code>locations</code></td>
<td><code>[Location]</code></td>
<td>an array of code locations, where each location is a map with the keys <code>line</code> and <code>column</code>, both natural numbers starting from 1 that describe the beginning of an associated syntax element</td>
</tr>
<tr>
<td><code>path</code></td>
<td><code>[String | Int]</code></td>
<td>if the error is associated with one or more particular fields in the response, this field of the error details the paths of those response fields that experienced the error (this allows clients to identify whether a <code>null</code> result is intentional or caused by a runtime error)</td>
</tr>
<tr>
<td><code>extensions</code></td>
<td><code>TypedError</code></td>
<td><a href="#the-typederror-interface">see “The TypedError Interface” below</a></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="2 "></span><span class="err">Error</span><span class="w"> </span><span class="err">format</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">defined</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">GraphQL</span><span class="w"> </span><span class="err">Spec</span>
<span class="linenos" data-linenos="3 "></span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="4 "></span><span class="k">interface</span><span class="w"> </span><span class="err">GraphQLError</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="5 "></span><span class="w">    </span><span class="nl">message</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="n">Required</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">GraphQL</span><span class="w"> </span><span class="n">Spec</span>
<span class="linenos" data-linenos="6 "></span><span class="w">    </span><span class="nl">locations</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">Location</span><span class="err">]</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="n">See</span><span class="w"> </span><span class="n">GraphQL</span><span class="w"> </span><span class="n">Spec</span>
<span class="linenos" data-linenos="7 "></span><span class="w">    </span><span class="nl">path</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">String</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="n">Int</span><span class="err">]</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="n">See</span><span class="w"> </span><span class="n">GraphQL</span><span class="w"> </span><span class="n">Spec</span>
<span class="linenos" data-linenos="8 "></span><span class="w">    </span><span class="nl">extensions</span><span class="p">:</span><span class="w"> </span><span class="n">TypedError</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div>
<p>See <a href="http://spec.graphql.org/June2018/#sec-Errors">the GraphQL specification: Errors</a> for more information.</p>
<h3 id="the-typederror-interface">The TypedError Interface<a class="headerlink" href="#the-typederror-interface" title="Permanent link">&para;</a></h3>
<p>Studio Edge defines <code>TypedError</code> as follows:</p>
<table>
<thead>
<tr>
<th><strong>field</strong></th>
<th><strong>type</strong></th>
<th><strong>description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>errorType</code> (non-nullable)</td>
<td><code>ErrorType!</code></td>
<td>an enumerated error code that is meant as a fairly coarse characterization of an error, sufficient for client-side branching logic</td>
</tr>
<tr>
<td><code>errorDetail</code></td>
<td><code>ErrorDetail</code></td>
<td>an enumeration that provides more detail about the error, including its specific cause (the elements of this enumeration are subject to change and are not documented here)</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>the name of the source that issued the error (for instance the name of a backend service, DGS, gateway, client library, or client app)</td>
</tr>
<tr>
<td><code>debugInfo</code></td>
<td><code>DebugInfo</code></td>
<td>if the request included a flag indicating that it wanted debug information, this field contains that additional information (such as a stack trace or additional reporting from an upstream service)</td>
</tr>
<tr>
<td><code>debugUri</code></td>
<td><code>String</code></td>
<td>the URI of a page that contains additional information that may be helpful in debugging the error (this could be a generic page for errors of this sort, or a specific page about the particular error instance)</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="k">interface</span><span class="w"> </span><span class="err">TypedError</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos=" 2 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">    </span><span class="n">An</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ErrorType</span><span class="w"> </span><span class="n">enumeration</span><span class="err">.</span>
<span class="linenos" data-linenos=" 4 "></span><span class="w">    </span><span class="n">An</span><span class="w"> </span><span class="n">errorType</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fairly</span><span class="w"> </span><span class="n">coarse</span><span class="w"> </span><span class="n">characterization</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sufficient</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">client</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">    </span><span class="n">side</span><span class="w"> </span><span class="n">branching</span><span class="w"> </span><span class="n">logic</span><span class="err">.</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="nl">errorType</span><span class="p">:</span><span class="w"> </span><span class="n">ErrorType</span><span class="err">!</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="11 "></span><span class="w">    </span><span class="n">The</span><span class="w"> </span><span class="n">ErrorDetail</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span>
<span class="linenos" data-linenos="12 "></span><span class="w">    </span><span class="n">provide</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">fine</span><span class="w"> </span><span class="n">grained</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span>
<span class="linenos" data-linenos="13 "></span><span class="w">    </span><span class="n">condition</span><span class="err">.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ErrorType</span><span class="w"> </span><span class="n">enumeration</span><span class="w"> </span><span class="n">to</span>
<span class="linenos" data-linenos="14 "></span><span class="w">    </span><span class="n">be</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">mostly</span><span class="w"> </span><span class="n">static</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">branching</span>
<span class="linenos" data-linenos="15 "></span><span class="w">    </span><span class="n">logic</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">depend</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">it</span><span class="err">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">ErrorDetail</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">a</span>
<span class="linenos" data-linenos="16 "></span><span class="w">    </span><span class="n">more</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="err">.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">enumeration</span>
<span class="linenos" data-linenos="17 "></span><span class="w">    </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">much</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">change</span><span class="err">/</span><span class="n">grow</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="err">.</span>
<span class="linenos" data-linenos="18 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="19 "></span><span class="w">    </span><span class="nl">errorDetail</span><span class="p">:</span><span class="w"> </span><span class="n">ErrorDetail</span>
<span class="linenos" data-linenos="20 "></span>
<span class="linenos" data-linenos="21 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="22 "></span><span class="w">    </span><span class="n">Indicates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="err">.</span><span class="w"> </span><span class="n">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">could</span>
<span class="linenos" data-linenos="23 "></span><span class="w">    </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backend</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">graph</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">a</span>
<span class="linenos" data-linenos="24 "></span><span class="w">    </span><span class="n">gateway</span><span class="err">.</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">case</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">throwing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">this</span>
<span class="linenos" data-linenos="25 "></span><span class="w">    </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="n">name</span><span class="err">.</span>
<span class="linenos" data-linenos="26 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="27 "></span><span class="w">    </span><span class="nl">origin</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="linenos" data-linenos="28 "></span>
<span class="linenos" data-linenos="29 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="30 "></span><span class="w">    </span><span class="n">Optionally</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">flag</span>
<span class="linenos" data-linenos="31 "></span><span class="w">    </span><span class="n">Could</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">e</span><span class="err">.</span><span class="n">g</span><span class="err">.</span><span class="w"> </span><span class="n">stacktrace</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="n">from</span>
<span class="linenos" data-linenos="32 "></span><span class="w">    </span><span class="n">upstream</span><span class="w"> </span><span class="n">service</span>
<span class="linenos" data-linenos="33 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="34 "></span><span class="w">    </span><span class="nl">debugInfo</span><span class="p">:</span><span class="w"> </span><span class="n">DebugInfo</span>
<span class="linenos" data-linenos="35 "></span>
<span class="linenos" data-linenos="36 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="37 "></span><span class="w">    </span><span class="n">Http</span><span class="w"> </span><span class="n">URI</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">detailing</span><span class="w"> </span><span class="n">additional</span>
<span class="linenos" data-linenos="38 "></span><span class="w">    </span><span class="n">information</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">debug</span>
<span class="linenos" data-linenos="39 "></span><span class="w">    </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="err">.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">general</span>
<span class="linenos" data-linenos="40 "></span><span class="w">    </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">this</span>
<span class="linenos" data-linenos="41 "></span><span class="w">    </span><span class="n">particular</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="err">.</span>
<span class="linenos" data-linenos="42 "></span><span class="w">    </span><span class="err">&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="43 "></span><span class="w">    </span><span class="nl">debugUri</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="linenos" data-linenos="44 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="the-errortype-enumeration">The ErrorType Enumeration<a class="headerlink" href="#the-errortype-enumeration" title="Permanent link">&para;</a></h3>
<p>The following table shows the available <code>ErrorType</code> <code>enum</code> values:</p>
<table>
<thead>
<tr>
<th><strong>type</strong></th>
<th><strong>description</strong></th>
<th><strong>HTTP analog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BAD_REQUEST</code></td>
<td>This indicates a problem with the request. Retrying the same request is not likely to succeed. An example would be a query or argument that cannot be deserialized.</td>
<td>400 Bad Request</td>
</tr>
<tr>
<td><code>FAILED_PRECONDITION</code></td>
<td>The operation was rejected because the system is not in a state required for the operation’s execution. For example, the directory to be deleted is non-empty, an <code>rmdir</code> operation is applied to a non-directory, etc. Use <code>UNAVAILABLE</code> instead if the client can retry just the failing call without waiting for the system state to be explicitly fixed.</td>
<td>400 Bad Request, or 500 Internal Server Error</td>
</tr>
<tr>
<td><code>INTERNAL</code></td>
<td>This indicates that an unexpected internal error was encountered: some invariants expected by the underlying system have been broken. This error code is reserved for serious errors.</td>
<td>500 Internal Server Error</td>
</tr>
<tr>
<td><code>NOT_FOUND</code></td>
<td>This could apply to a resource that has never existed (e.g. bad resource id), or a resource that no longer exists (e.g. cache expired). Note to server developers: if a request is denied for an entire class of users, such as gradual feature rollout or undocumented allowlist, <code>NOT_FOUND</code> may be used. If a request is denied for some users within a class of users, such as user-based access control, <code>PERMISSION_DENIED</code> must be used.</td>
<td>404 Not Found</td>
</tr>
<tr>
<td><code>PERMISSION_DENIED</code></td>
<td>This indicates that the requester does not have permission to execute the specified operation. <code>PERMISSION_DENIED</code> must not be used for rejections caused by exhausting some resource or quota. <code>PERMISSION_DENIED</code> must not be used if the caller cannot be identified (use <code>UNAUTHENTICATED</code> instead for those errors). This error does not imply that the request is valid or the requested entity exists or satisfies other pre-conditions.</td>
<td>403 Forbidden</td>
</tr>
<tr>
<td><code>UNAUTHENTICATED</code></td>
<td>This indicates that the request does not have valid authentication credentials but the route requires authentication.</td>
<td>401 Unauthorized</td>
</tr>
<tr>
<td><code>UNAVAILABLE</code></td>
<td>This indicates that the service is currently unavailable. This is most likely a transient condition, which can be corrected by retrying with a backoff.</td>
<td>503 Unavailable</td>
</tr>
<tr>
<td><code>UNKNOWN</code></td>
<td>This error may be returned, for example, when an error code received from another address space belongs to an error space that is not known in this address space. Errors raised by APIs that do not return enough error information may also be converted to this error. If a client sees an <code>errorType</code> that is not known to it, it will be interpreted as <code>UNKNOWN</code>. Unknown errors <em>must not</em> trigger any special behavior. They <em>may</em> be treated by an implementation as being equivalent to <code>INTERNAL</code>.</td>
<td>520 Unknown Error</td>
</tr>
</tbody>
</table>
<div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #8a6d3b;; background-color: #fcf8e3; border-color: #faebcc;">
The HTTP analogs are only rough mappings that are given here to provide a quick conceptual explanation of the semantics of the error by showing their analogs in the HTTP specification.
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": [], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../js/mermaid.min.js"></script>
      
    
  </body>
</html>